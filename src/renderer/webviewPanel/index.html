<!doctype html>
<html lang="zh-CN" class="no-js">
  <head>
    <meta charset="UTF-8" />
    <meta
      http-equiv="Content-Security-Policy"
      content="
        default-src * 'self' data: blob:;
        style-src * 'self' 'unsafe-inline' data:;
        script-src * 'self' 'unsafe-inline' 'unsafe-eval' blob:;
        img-src * 'self' data: blob: vscode-webview:;
        font-src * 'self' data:;
        connect-src * 'self' ws: wss: data: blob:;
        worker-src * 'self' blob:;
        child-src * 'self' blob:;
        frame-src * 'self' blob:;
    "
    />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>MyBricks.ai Designer</title>
    <link rel="shortcut icon" href="/favicon.ico" />

    <!-- 样式文件 -->
    <link href="./asserts/app.css" rel="stylesheet" type="text/css" />

    <!-- React 18 核心库 (CDN) -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.development.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.development.js"></script>

    <!-- Ant Design 5 组件库 (CDN) -->
    <script src="./asserts/cssinjs.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/dayjs/1.11.13/dayjs.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/antd/5.22.7/antd.min.js"></script>
    <script src="./asserts/antd@5.21.4.min.js"></script>
    <script src="https://f2.eckwai.com/kos/nlav11092/fangzhou/pub/temp/1690444248634.ant-design-icons_4.7.0_min.js"></script>

    <!-- MyBricks SPA Designer 引擎 (CDN) -->
    <script src="https://p4-ec.eckwai.com/kos/nlav12333/mybricks/designer-spa/3.9.900.t2/index.min.js"></script>


    <!-- Webview 消息 API -->
    <script src="./asserts/webViewMessageApi.js"></script>

    <!-- Tabbar 配置 -->
    <script src="./asserts/store/tabbar.js"></script>

    <!-- MyBricks API -->
    <script src="./asserts/mybricks-api.js"></script>
  </head>

  <body>
    <div id="root"></div>

    <script>
      // 初始化 VS Code API
      const vscode = acquireVsCodeApi()
      window.VS_CODE = vscode

      // 初始化 WebView 消息 API
      const webViewMessageApi = new WebViewMessageAPI(VS_CODE)
      window.webViewMessageApi = webViewMessageApi

      // 监听来自扩展的消息
      window.addEventListener('message', (event) => {
        const message = event.data
        // 消息处理逻辑
      })
    </script>

    <!-- 使用 Vite 构建的文件 -->
    <script src="./out/webview/app.js"></script>
  </body>
</html>

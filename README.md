# MyBricks IDE - VSCode æ’ä»¶ç‰ˆ

<div align="center">

**å°† MyBricks.ai å¼€å‘å¹³å°æ— ç¼é›†æˆåˆ° VSCode ä¸­**

[![VSCode](https://img.shields.io/badge/VSCode-1.60.0+-007ACC?logo=visual-studio-code)](https://code.visualstudio.com/)
[![MyBricks](https://img.shields.io/badge/MyBricks-3.9.836-4CAF50)](https://mybricks.world)
[![License](https://img.shields.io/badge/license-MIT-blue.svg)](LICENSE)

</div>

## ğŸ“– é¡¹ç›®ç®€ä»‹

MyBricks IDE VSCode æ’ä»¶å°†å¼ºå¤§çš„ MyBricks.ai å¯è§†åŒ–æ­å»ºå¹³å°å®Œæ•´é›†æˆåˆ° VSCode å¼€å‘ç¯å¢ƒä¸­ï¼Œè®©å¼€å‘è€…æ— éœ€ç¦»å¼€ IDE å³å¯è¿›è¡Œå°ç¨‹åºã€H5 é¡µé¢çš„å¯è§†åŒ–å¼€å‘ã€‚æœ¬æ’ä»¶åŸºäº MyBricks SPA Designer å¼•æ“ï¼Œæä¾›å®Œæ•´çš„ç»„ä»¶åŒ–æ­å»ºã€å¯è§†åŒ–ç¼–è¾‘å’Œé¡¹ç›®ç®¡ç†èƒ½åŠ›ã€‚

## âœ¨ MyBricks.ai å¹³å°å…ˆè¿›æ€§

### ğŸ¯ æ ¸å¿ƒä¼˜åŠ¿

**1. å¼ºå¤§çš„AI+æ— ä»£ç èƒ½åŠ›**
- å›¾ç‰‡ç›´æ¥ç”Ÿæˆåº”ç”¨ã€è‡ªç„¶è¯­è¨€è°ƒæ•´
- å¼ºå¤§çš„å¯è§†åŒ–èƒ½åŠ›ã€å³æ—¶ä»¿çœŸ
- æ¨¡å—åŒ–è®¾è®¡ï¼Œæ˜“äºæ‰©å±•å’Œé›†æˆ

**2. å¤šæŠ€æœ¯æ ˆæ”¯æŒ**
- **å¤šæ¸²æŸ“å™¨æ”¯æŒ**ï¼šReactã€Vueã€å°ç¨‹åºï¼ˆTaroï¼‰ç­‰å¤šç§æ¸²æŸ“æ–¹æ¡ˆ
- **è·¨ç«¯å¼€å‘**ï¼šä¸€æ¬¡æ­å»ºï¼Œå¤šç«¯è¿è¡Œï¼ˆWebã€H5ã€å°ç¨‹åºã€é¸¿è’™ï¼‰
- **æºç ç”Ÿæˆ**ï¼šæ”¯æŒå°†å¯è§†åŒ–æ­å»ºçš„é¡µé¢å¯¼å‡ºä¸ºæºä»£ç 

**3. ç»„ä»¶åŒ–ç”Ÿæ€**
- ä¸°å¯Œçš„å®˜æ–¹ç»„ä»¶åº“ï¼ˆå°ç¨‹åºã€ç§»åŠ¨ç«¯ã€PCç«¯ï¼‰
- æ”¯æŒè‡ªå®šä¹‰ç»„ä»¶åº“æ¥å…¥
- ç»„ä»¶æ’ä»¶åŒ–æœºåˆ¶ï¼Œæ˜“äºæ‰©å±•

**4. æ•°æ®é©±åŠ¨**
- åŸºäº JSON Schema çš„é¡µé¢æè¿°åè®®
- å®Œæ•´çš„é¡µé¢ç»“æ„å’Œäº¤äº’é€»è¾‘æè¿°
- æ”¯æŒç‰ˆæœ¬ç®¡ç†å’ŒååŒå¼€å‘

**5. å¼€å‘è€…å‹å¥½**
- å¯è§†åŒ–ç¼–è¾‘å™¨ + æºç å¼€å‘æ— ç¼åˆ‡æ¢
- å®Œæ•´çš„ TypeScript ç±»å‹æ”¯æŒ
- æ’ä»¶ç³»ç»Ÿæ”¯æŒï¼ˆæœåŠ¡è¿æ¥å™¨ã€æ•°æ®æºç­‰ï¼‰

## ğŸš€ åŠŸèƒ½ç‰¹æ€§

### æ ¸å¿ƒåŠŸèƒ½

- âœ… **IDE åŸç”Ÿé›†æˆ**ï¼šåœ¨ VSCode ä¸­ç›´æ¥æ‰“å¼€ MyBricks è®¾è®¡ç³»ç»Ÿ
- âœ… **å°ç¨‹åºå¼€å‘**ï¼šæ”¯æŒå°ç¨‹åºæ ‡ç­¾é¡µã€æ™®é€šé¡µé¢ã€å¯¹è¯æ¡†ã€WebView ç­‰åœºæ™¯
- âœ… **å¯è§†åŒ–æ­å»º**ï¼šæ‹–æ‹½å¼ç»„ä»¶æ­å»ºï¼Œæ‰€è§å³æ‰€å¾—
- âœ… **å®æ—¶é¢„è§ˆ**ï¼šç§»åŠ¨ç«¯å°ºå¯¸é¢„è§ˆï¼ˆ375x667ï¼‰ï¼Œå®æ—¶æŸ¥çœ‹æ•ˆæœ
- âœ… **æœ¬åœ°å­˜å‚¨**ï¼šé¡¹ç›®æ–‡ä»¶æœ¬åœ°æŒä¹…åŒ–ï¼Œæ”¯æŒç¦»çº¿å¼€å‘
- âœ… **æœåŠ¡è¿æ¥å™¨**ï¼šå†…ç½® HTTP è¿æ¥å™¨æ’ä»¶ï¼Œè½»æ¾å¯¹æ¥åç«¯æ¥å£
- âœ… **äº¤äº’ç¼–æ’**ï¼šå¯è§†åŒ–çš„é¡µé¢äº¤äº’é€»è¾‘ç¼–æ’
- âœ… **é¡¹ç›®ç®¡ç†**ï¼šå¤šé¡µé¢ç®¡ç†ã€é¡µé¢å¤åˆ¶ã€åˆ é™¤ç­‰æ“ä½œ

### æŠ€æœ¯é›†æˆ

- **MyBricks SPA Designer** (v3.9.836)ï¼šæ ¸å¿ƒè®¾è®¡å™¨å¼•æ“
- **Ant Design 5**ï¼šUI ç»„ä»¶åº“æ”¯æŒ
- **React 18**ï¼šç°ä»£åŒ–å‰ç«¯æŠ€æœ¯æ ˆ
- **Taro å°ç¨‹åºç»„ä»¶åº“**ï¼šå®Œæ•´çš„å°ç¨‹åºç»„ä»¶ç”Ÿæ€

## ğŸ“¦ å®‰è£…ä½¿ç”¨

### å‰ç½®è¦æ±‚

- VSCode ç‰ˆæœ¬ â‰¥ 1.60.0
- Node.jsï¼ˆç”¨äºå¼€å‘å’Œæ‰“åŒ…ï¼‰

### å®‰è£…æ’ä»¶

1. **ä» VSIX æ–‡ä»¶å®‰è£…**
   ```bash
   # æ‰“åŒ…æ’ä»¶
   npm install -g vsce
   vsce package
   
   # åœ¨ VSCode ä¸­å®‰è£…
   # Extensions -> ... -> Install from VSIX
   ```

2. **å¼€å‘æ¨¡å¼è¿è¡Œ**
   ```bash
   # å…‹éš†é¡¹ç›®
   git clone <repository-url>
   cd mybricks-ide-as-vscode-plugin
   
   # åœ¨ VSCode ä¸­æŒ‰ F5 å¯åŠ¨è°ƒè¯•
   ```

### å¿«é€Ÿå¼€å§‹

1. **å¯åŠ¨æ’ä»¶**
   - å®‰è£…æ’ä»¶åï¼ŒVSCode å¯åŠ¨æ—¶ä¼šè‡ªåŠ¨æ‰“å¼€ MyBricks IDE
   - æˆ–ç‚¹å‡»å·¦ä¾§æ´»åŠ¨æ çš„ MyBricks å›¾æ ‡
   - æˆ–ä½¿ç”¨å‘½ä»¤ `Open MyBricks IDE`

2. **åˆ›å»ºé¡µé¢**
   - ç‚¹å‡»å·¥å…·æ çš„æ·»åŠ æŒ‰é’®
   - é€‰æ‹©é¡µé¢ç±»å‹ï¼šå°ç¨‹åºæ ‡ç­¾é¡µ/æ™®é€šé¡µé¢/å¯¹è¯æ¡†/ç½‘é¡µ
   - å¼€å§‹æ‹–æ‹½ç»„ä»¶è¿›è¡Œæ­å»º

3. **ä¿å­˜é¡¹ç›®**
   - ç‚¹å‡»å³ä¸Šè§’"ä¿å­˜"æŒ‰é’®
   - é¡¹ç›®æ•°æ®è‡ªåŠ¨ä¿å­˜åˆ°æµè§ˆå™¨ localStorage
   - ä¸‹æ¬¡æ‰“å¼€è‡ªåŠ¨åŠ è½½

## ğŸ—ï¸ é¡¹ç›®ç»“æ„

```
mybricks-ide-as-vscode-plugin/
â”œâ”€â”€ asserts/                    # é™æ€èµ„æº
â”‚   â”œâ”€â”€ antd@5.21.4.min.js     # Ant Design ç»„ä»¶åº“
â”‚   â”œâ”€â”€ cssinjs.min.js         # CSS-in-JS æ”¯æŒ
â”‚   â”œâ”€â”€ app.tsx                # ä¸»åº”ç”¨å…¥å£
â”‚   â”œâ”€â”€ config.tsx             # MyBricks é…ç½®æ–‡ä»¶
â”‚   â”œâ”€â”€ app.css                # æ ·å¼æ–‡ä»¶
â”‚   â””â”€â”€ icon.svg               # æ’ä»¶å›¾æ ‡
â”œâ”€â”€ extension.js               # VSCode æ‰©å±•ä¸»å…¥å£
â”œâ”€â”€ webview.js                 # Webview å†…å®¹ç”Ÿæˆå™¨
â”œâ”€â”€ webview.html               # Webview é¡µé¢æ¨¡æ¿
â”œâ”€â”€ package.json               # é¡¹ç›®é…ç½®
â””â”€â”€ README.md                  # é¡¹ç›®æ–‡æ¡£
```

## âš™ï¸ é…ç½®è¯´æ˜

### MCP æœåŠ¡å™¨é…ç½®

æœ¬æ’ä»¶å†…ç½®äº† MCP (Model Context Protocol) HTTP æœåŠ¡å™¨ï¼Œå…è®¸ Cursor ç­‰ IDE é€šè¿‡ MCP åè®®è¿æ¥å¹¶ä½¿ç”¨ MyBricks åŠŸèƒ½ã€‚

#### 1. æ’ä»¶é…ç½®ï¼ˆVSCode è®¾ç½®ï¼‰

åœ¨ VSCode è®¾ç½®ä¸­å¯ä»¥é…ç½® MCP æœåŠ¡å™¨ç«¯å£ï¼š

```json
{
  "mybricks.mcp.port": 3001
}
```

#### 2. ç”¨æˆ·é¡¹ç›®é…ç½®ï¼ˆCursor ç­‰ IDEï¼‰

åœ¨ç”¨æˆ·é¡¹ç›®çš„ Cursor é…ç½®æ–‡ä»¶ä¸­æ·»åŠ  MCP æœåŠ¡å™¨è¿æ¥ï¼š

**æ–¹å¼ä¸€ï¼šé¡¹ç›®çº§é…ç½®** (`.cursor/mcp.json` æˆ– `.vscode/mcp.json`)
```json
{
  "mcpServers": {
    "mybricks": {
      "url": "http://localhost:3001"
    }
  }
}
```

**æ–¹å¼äºŒï¼šå…¨å±€é…ç½®** (`~/.cursor/mcp.json`)
```json
{
  "mcpServers": {
    "mybricks": {
      "url": "http://localhost:3001"
    }
  }
}
```

> **æ³¨æ„**ï¼šä½¿ç”¨å®˜æ–¹ `@modelcontextprotocol/sdk` çš„ Streamable HTTP ä¼ è¾“ï¼Œç«¯ç‚¹ç›´æ¥æ˜¯æœåŠ¡å™¨æ ¹è·¯å¾„ï¼Œä¸éœ€è¦ `/mcp` åç¼€ã€‚

#### 3. å¯ç”¨çš„ MCP å·¥å…·

æ’ä»¶æä¾›ä»¥ä¸‹ MCP å·¥å…·ä¾› AI åŠ©æ‰‹ä½¿ç”¨ï¼š

- **getFileContent**: è·å– MyBricks é¡¹ç›®æ–‡ä»¶å†…å®¹
- **saveFileContent**: ä¿å­˜ MyBricks é¡¹ç›®æ–‡ä»¶å†…å®¹
- **exportProject**: å¯¼å‡º MyBricks é¡¹ç›®

#### 4. å¥åº·æ£€æŸ¥

MCP æœåŠ¡å™¨æä¾›å¥åº·æ£€æŸ¥ç«¯ç‚¹ï¼š
```
GET http://localhost:3001/health
```

### MyBricks é…ç½®é¡¹ (`asserts/config.tsx`)

```typescript
{
  type: 'mpa',                    // åº”ç”¨ç±»å‹ï¼šå¤šé¡µåº”ç”¨
  plugins: [],                    // æ’ä»¶åˆ—è¡¨
  comLibLoader: () => {},         // ç»„ä»¶åº“åŠ è½½å™¨
  save: () => {},                 // ä¿å­˜é€»è¾‘
  pageMetaLoader: () => {},       // é¡µé¢å…ƒæ•°æ®åŠ è½½
  pageContentLoader: () => {},    // é¡µé¢å†…å®¹åŠ è½½
  geoView: {                      // ç”»å¸ƒé…ç½®
    type: "mobile",               // ç§»åŠ¨ç«¯é¢„è§ˆ
    width: 375,                   // å®½åº¦
    height: 667,                  // é«˜åº¦
  },
  toplView: {},                   // äº¤äº’ç¼–æ’é…ç½®
  editView: {},                   // ç¼–è¾‘å™¨é…ç½®
}
```

### ç»„ä»¶åº“é…ç½®

é»˜è®¤åŠ è½½å°ç¨‹åºç»„ä»¶åº“ï¼š
```typescript
comLibLoader() {
  return Promise.resolve([
    'https://p66-ec.becukwai.com/udata/pkg/eshop/fangzhou/mybricks.normal-miniapp.taro/0.5.11/edit.js'
  ])
}
```

## ğŸ”§ å¼€å‘æŒ‡å—

### æœ¬åœ°å¼€å‘

1. **å¯åŠ¨å¼€å‘ç¯å¢ƒ**
   ```bash
   # åœ¨ VSCode ä¸­æ‰“å¼€é¡¹ç›®
   code .
   
   # æŒ‰ F5 å¯åŠ¨è°ƒè¯•
   # ä¼šæ‰“å¼€ä¸€ä¸ªæ–°çš„ VSCode çª—å£ï¼Œæ’ä»¶å·²åŠ è½½
   ```

2. **ä¿®æ”¹ä»£ç **
   - `extension.js`ï¼šæ‰©å±•ä¸»é€»è¾‘
   - `asserts/app.tsx`ï¼šIDE ç•Œé¢
   - `asserts/config.tsx`ï¼šMyBricks é…ç½®
   - `webview.html`ï¼šWebview æ¨¡æ¿

3. **çƒ­é‡è½½**
   - ä¿®æ”¹ TypeScript/JavaScript ä»£ç åï¼Œé‡æ–°åŠ è½½æ‰©å±•çª—å£
   - ä½¿ç”¨ `Developer: Reload Window` å‘½ä»¤

### æ·»åŠ è‡ªå®šä¹‰ç»„ä»¶åº“

åœ¨ `asserts/config.tsx` ä¸­é…ç½®ï¼š

```typescript
comLibLoader(desc) {
  return Promise.resolve([
    // æ·»åŠ ä½ çš„ç»„ä»¶åº“ URL
    'https://your-domain.com/your-component-lib/edit.js'
  ])
}
```

### æ·»åŠ è‡ªå®šä¹‰æ’ä»¶

```typescript
import customPlugin from './plugins/custom-plugin';

{
  plugins: [
    servicePlugin(),      // æœåŠ¡è¿æ¥å™¨
    customPlugin(),       // ä½ çš„è‡ªå®šä¹‰æ’ä»¶
  ]
}
```

## ğŸ“Š æ•°æ®å­˜å‚¨

é¡¹ç›®æ•°æ®å­˜å‚¨åœ¨æµè§ˆå™¨ localStorage ä¸­ï¼š

```javascript
{
  project: {
    projectContent: {},      // é¡¹ç›®é…ç½®
    pageAry: [],            // é¡µé¢åˆ—è¡¨
    openedPageAry: [],      // æ‰“å¼€çš„é¡µé¢
    deletedPageAry: []      // å·²åˆ é™¤çš„é¡µé¢
  },
  pages: [                  // é¡µé¢å†…å®¹æ•°ç»„
    {
      id: 'page-id',
      content: {}           // é¡µé¢å…·ä½“å†…å®¹
    }
  ]
}
```

## ğŸ¨ ç•Œé¢è¯´æ˜

### ä¸»ç•Œé¢å¸ƒå±€

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  MyBricks          [å·¥å…·æ æŒ‰é’®]    [*]ä¿å­˜  â”‚ â† é¡¶éƒ¨å·¥å…·æ 
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                             â”‚
â”‚                                             â”‚
â”‚          MyBricks Designer                  â”‚
â”‚         (å¯è§†åŒ–è®¾è®¡å™¨åŒºåŸŸ)                    â”‚
â”‚                                             â”‚
â”‚                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ä¾§è¾¹æ 

ç‚¹å‡»å·¦ä¾§æ´»åŠ¨æ çš„ MyBricks å›¾æ ‡ï¼Œæ˜¾ç¤ºå¿«æ·å…¥å£ï¼š
- æ¬¢è¿ä¿¡æ¯
- å¿«é€Ÿè®¿é—®

## ğŸ”Œ æ’ä»¶æ‰©å±•

### å†…ç½®æ’ä»¶

**æœåŠ¡è¿æ¥å™¨æ’ä»¶** (`@mybricks/plugins/service`)
- æä¾› HTTP æ¥å£è°ƒç”¨èƒ½åŠ›
- æ”¯æŒ RESTful API å¯¹æ¥
- å¯è§†åŒ–æ¥å£é…ç½®

### è‡ªå®šä¹‰æ’ä»¶å¼€å‘

å‚è€ƒ MyBricks æ’ä»¶å¼€å‘æ–‡æ¡£ï¼š
```typescript
export default function customPlugin(options) {
  return {
    name: '@custom/plugin-name',
    install(context) {
      // æ’ä»¶åˆå§‹åŒ–é€»è¾‘
    },
    // æ’ä»¶æ–¹æ³•
  }
}
```

## ğŸ“š ç›¸å…³èµ„æº

- [MyBricks å®˜æ–¹æ–‡æ¡£](https://docs.mybricks.world)
- [MyBricks å®˜ç½‘](https://mybricks.world)
- [ç»„ä»¶åº“å¼€å‘æŒ‡å—](https://docs.mybricks.world/docs/comlib-dev/)
- [æ’ä»¶å¼€å‘æŒ‡å—](https://docs.mybricks.world/docs/plugin-dev/)
- [VSCode æ‰©å±•å¼€å‘æ–‡æ¡£](https://code.visualstudio.com/api)

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿è´¡çŒ®ä»£ç ã€æå‡ºé—®é¢˜å’Œå»ºè®®ï¼

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. æäº¤ Pull Request

## ğŸ“„ å¼€æºåè®®

æœ¬é¡¹ç›®é‡‡ç”¨ MIT åè®®å¼€æºï¼Œè¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶ã€‚

## ğŸ“® è”ç³»æ–¹å¼

å¦‚æœ‰ä»»ä½•é—®é¢˜æˆ–å»ºè®®ï¼Œæ¬¢è¿é€šè¿‡ä»¥ä¸‹æ–¹å¼è”ç³»ï¼š

- æäº¤ Issue
- å‘é€é‚®ä»¶
- åŠ å…¥ç¤¾åŒºè®¨è®º

---

<div align="center">

**ç”¨ MyBricks æå‡å¼€å‘æ•ˆç‡ï¼Œè®©åˆ›æ„å¿«é€Ÿè½åœ°ï¼** ğŸš€

</div>
